{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>ðŸ“ˆ Latest Stock Data (Top 20)</h2>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="alert alert-info mt-3">
                {% for msg in messages %}
                    <p>{{ msg }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    {% if rows %}
    <table class="table table-bordered table-striped mt-4">
        <thead>
            <tr>
                <th>Date</th>
                <th>Symbol</th>
                <th>Open</th>
                <th>High</th>
                <th>Low</th>
                <th>Close</th>
                <th>Adj Close</th>
                <th>Volume</th>
            </tr>
        </thead>
        <tbody>
            {% for row in rows %}
            <tr>
                <td>{{ row.date.strftime('%Y-%m-%d') }}</td>
                <td>{{ row.symbol }}</td>
                <td>{{ row.open }}</td>
                <td>{{ row.high }}</td>
                <td>{{ row.low }}</td>
                <td>{{ row.close }}</td>
                <td>{{ row.adj_close }}</td>
                <td>{{ row.volume }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p class="mt-4 text-muted">No data available to display.</p>
    {% endif %}

</div>
{% endblock %}
